<div class="row">
			<div class="col-lg-12">

				<div id="add-listing">

				<form name="editlistingForm" method="post" ng-submit="submitLising(editlistingForm)"  ng-validate="editlistingvalidate" enctype='multipart/form-data'>
					<!-- Section -->
					<div class="add-listing-section">

						<!-- Headline -->
						<div class="add-listing-headline">
							<h3><i class="sl sl-icon-doc"></i> Basic Informations</h3>
						</div>

						<!-- Title -->
						<div class="row with-forms">
							<div class="col-md-12">
								<h5>Business Name <i class="tip" data-tip-content="Name of your business"></i></h5>
								<input class="search-field" type="text" name="business_name" ng-model="listing.business_name" />
							</div>
						</div>

						<!-- Row -->
						<div class="row with-forms">

							<!-- Status -->
							<div class="col-md-6">
								<h5>Category</h5>
								
								<select  class="" ng-model="listing.category" ng-options="item.id as item.name for item in categoryList" name="category">
								<option value=""> Choose a Category..</option>	
								</select>
										
							</div>

							<!-- Type -->
							<div class="col-md-6">
								<h5>Keywords <i class="tip" data-tip-content="Maximum of 15 keywords related with your business"></i></h5>
								<input type="text" placeholder="Keywords should be separated by commas" name="keywords" ng-model="listing.keywords">
							</div>

						</div>
						<!-- Row / End -->

					</div>
					<!-- Section / End -->

					<!-- Section -->
					<div class="add-listing-section margin-top-45">

						<!-- Headline -->
						<div class="add-listing-headline">
							<h3><i class="sl sl-icon-location"></i> Location</h3>
						</div>

						<div class="submit-section">

							<!-- Row -->
							<div class="row with-forms">

								<!-- Address -->
								<div class="col-md-12">
									<h5>Address</h5>
									<input id="autocomplete" placeholder="Enter your address"
										onFocus="geolocate()" type="text" ng-model="listing.address" name="address" >

									<input id="latitude" placeholder="city"
										 type="hidden" ng-model="listing.latitude" >
								<input id="longitude" placeholder="city"
										 type="hidden" ng-model="listing.longitude" >		
								</div>

								<!-- City -->
								<div class="col-md-6">
									<h5>City</h5>
							
								<!-- <select class="" ng-model="listing.city" ng-options="item.id as item.name for item in cityList" name="city">
									<option value=""> -- Choose a City..</option>	
								</select> -->

								<input id="administrative_area_level_2" placeholder="city"
										 type="text" ng-model="listing.city" name="city" >
																
								</div>
							

								<!-- City -->
								<div class="col-md-6">
									<h5>State</h5>
									<input type="text" id="administrative_area_level_1" name="state" ng-model="listing.state">
								</div>

								<!-- Zip-Code -->
								<div class="col-md-6">
									<h5>Zip-Code</h5>
									<input type="text" id="postal_code" name="zipcode" ng-model="listing.zipcode">
								</div>

								<!-- Country -->
								<div class="col-md-6">
									<h5>Country</h5>
									<input type="text" id="country" name="country" ng-model="listing.country">
								</div>

							</div>
							<!-- Row / End -->

						</div>
					</div>
					<!-- Section / End -->


					<!-- Section -->
					<div class="add-listing-section margin-top-45">

						<!-- Headline -->
						<div class="add-listing-headline">
							<h3><i class="sl sl-icon-picture"></i> Gallery</h3>
						</div>

						<!-- Dropzone -->
						<div class="submit-section" id="divElement">
							<!-- <form action="/file-upload" class="dropzone" ></form> -->
							<!-- <input type="file"  ngf-select ng-model="vendor.banner" name="banner" file-model="banner" ngf-pattern="'image/*'" ngf-accept="'image/*'"  ngf-multiple="true"> -->
					<input type="file"  name="gallery" ngf-select ng-model="gallery" file-model="gallery" ngf-pattern="'image/*'" ngf-accept="'image/*'" ngf-max-size="20MB"  onchange="angular.element(this).scope().photoChanged(this.files)" multiple ngf-multiple="true" class="dropzone" />

					<output id="result" />

					</div>
					
					
					</div>
					<!-- Section / End -->


					<!-- Section -->
					<div class="add-listing-section margin-top-45">

						<!-- Headline -->
						<div class="add-listing-headline">
							<h3><i class="sl sl-icon-docs"></i> Details</h3>
						</div>

						<!-- Description -->
						<div class="form">
							<h5>Description</h5>
							<textarea class="WYSIWYG" name="description" cols="40" rows="3" id="summary" spellcheck="true" ng-model="listing.description"></textarea>
						</div>

						<!-- Row -->
						<div class="row with-forms">

							<!-- Phone -->
							<div class="col-md-4">
								<h5>Phone <span>(optional)</span></h5>
								<input type="text" name="phone" ng-model="listing.phone" >
							</div>

							<!-- Website -->
							<div class="col-md-4">
								<h5>Website <span>(optional)</span></h5>
								<input type="text" name="website" ng-model="listing.website">
							</div>

							<!-- Email Address -->
							<div class="col-md-4">
								<h5>E-mail <span>(optional)</span></h5>
								<input type="text" name="email" ng-model="listing.email">
							</div>

						</div>
						<!-- Row / End -->


						<!-- Row -->
						<div class="row with-forms">

							<!-- Phone -->
							<div class="col-md-4">
								<h5 class="fb-input"><i class="fa fa-facebook-square"></i> Facebook <span>(optional)</span></h5>
								<input type="text" placeholder="https://www.facebook.com/" name="facebook" ng-model="listing.facebook">
							</div>

							<!-- Website -->
							<div class="col-md-4">
								<h5 class="twitter-input"><i class="fa fa-twitter"></i> Twitter <span>(optional)</span></h5>
								<input type="text" placeholder="https://www.twitter.com/" name="twitter" ng-model="listing.twitter">
							</div>

							<!-- Email Address -->
							<div class="col-md-4">
								<h5 class="gplus-input"><i class="fa fa-google-plus"></i> Google Plus <span>(optional)</span></h5>
								<input type="text" placeholder="https://plus.google.com" name="googleplus" ng-model="listing.googleplus">
							</div>

						</div>
						<!-- Row / End -->


						<!-- Checkboxes -->
						<h5 class="margin-top-30 margin-bottom-10">Amenities <span>(optional)</span></h5>
						<div class="checkboxes in-row margin-bottom-20" style="min-height:200px;">
							
							<div class="col-md-3" ng-repeat="row in amenitiesList">
							
								<input id="check-aa{{$index}}" type="checkbox" name="amenityValuee[$index]" ng-checked="true" >

							<input  type="hidden" name="amenityId[$index]" ng-init="amenityId[$index] = amenities[$index].id" ng-model="amenityId[$index]">
							<input  type="hidden" name="amenityName[$index]" ng-init="amenityName[$index] = amenities[$index].name" ng-model="amenityName[$index]">

							<input id="check-a{{$index}}" type="checkbox" name="amenityValue[$index]" ng-init="amenityValue[$index] = amenities[$index].name" ng-model="amenityValue[$index]">
							<label for="check-a{{$index}}">{{row.name}}</label>
							</div>
				
						</div>
						<!-- Checkboxes / End -->

					</div>
					<!-- Section / End -->


					<!-- Section -->
					<div class="add-listing-section margin-top-45">
						
						<!-- Headline -->
						<div class="add-listing-headline">
							<h3><i class="sl sl-icon-clock"></i> Opening Hours</h3>
							<!-- Switcher -->
							<label class="switch" style="display:none"><input type="checkbox" checked><span class="slider round"></span></label>
						</div>
						
						<!-- Switcher ON-OFF Content -->
						<div class="switcher-content">

							<!-- Day -->
							<div class="row opening-day" ng-repeat="row in weekdaysList">
								<div class="col-md-2"><h5>{{row.name}}</h5>
								<input type="hidden" ng-init="weekdays[$index].weekday = row.id" ng-model="weekdays[$index].weekday"></div>
								<div class="col-md-5">
									
								<select  class="" ng-init="weekdays[$index].opening_time = weekday[$index].opening_time" ng-model="weekdays[$index].opening_time"  ng-options="item.id as item.name for item in timeList" name="openingTime" id="openingTime{{$index}}">
								<option value=""> Choose a Opening tiime...</option>	
								</select>
									
								</div>
								<div class="col-md-5">
								<select  class="" ng-model="weekdays[$index].closing_time"  ng-options="item.id as item.name for item in timeList " name="closingTime" id="closingTime{{$index}}">
									<option value=""> Choose a Closing tiime...</option>	
								</select>
							
								</div>
							</div>
							<!-- Day / End -->
					
						</div>
						<!-- Switcher ON-OFF Content / End -->

					</div>
					<!-- Section / End -->


					<!-- Section -->
					<div class="add-listing-section margin-top-45">
						
						<!-- Headline -->
						<div class="add-listing-headline">
							<h3><i class="sl sl-icon-book-open"></i> Pricing</h3>
							<!-- Switcher --> 
							<label class="switch"  style="display:none"><input type="checkbox" checked><span class="slider round"></span></label>
						</div>

						<!-- Switcher ON-OFF Content -->
						<div class="switcher-content">


							<div class="row">
						<div class="col-md-12">
							<table id="pricing-list-container">
							</table>				
							 <!-- <a href="javascript:;" class="button add-pricing-list-item" >Add Item</a>  -->
							<!-- <a href="javascript:;" class="button add-submenu">Add Category</a> -->
							<a href="javascript:;" class="button add-pricing-list-item" >Add Item</a>
							<a href="#" class="button add-pricing-submenu">Add Category</a>
								
						</div>
					</div>

				
						</div>
						<!-- Switcher ON-OFF Content / End -->

					</div>
					<!-- Section / End -->

					<button type="submit" class="button preview" >Preview <i class="fa fa-arrow-circle-right"></i></button>
					</form>
				</div>
			</div>

			<!-- Copyrights -->
			<div class="col-md-12">
				<div class="copyrights">© 2017 Listeo. All Rights Reserved.</div>
			</div>

		</div>


		
	<script type="text/javascript" src="assets/ui/scripts/custom.js"></script>
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyCVcTn5VlvdS9QKx05JZJ1sV6_YPqRbmT0"></script> 
	
	<style>

		#add-listing > div:nth-child(5) > div.switcher-content > div:nth-child > div:nth-child > div:nth-child{
			display: none;
		}

</style>

<!-- <script>

var i=0;
$(document.body).on('click',".add-list-item",function() {
	
	console.log("seles");
    // $tr = $(this).closest("tr").clone();
	// $tr.insertAfter($(this).closest("tr"));

		i++;
		var newElem = $(this).closest("tr").clone();
		newElem.find('label.error').remove();
		console.log("-----------");
		console.log(newElem);
		console.log(newElem.find('input').eq(1).attr('id'));
		newElem.find('input').val('');
		newElem.find('input').eq(0).attr('id', 'title-' + i) // update title id
		newElem.find('input').eq(1).attr('id', 'description-' + i) // update description id
		newElem.find('input').eq(2).attr('id', 'price-' + i) // update price id

		//newElem.insertAfter($(this).closest("tr"));
		newElem.append('table#pricing-list-container');
		

});	

var j=0;
$(document.body).on('click',".add-submenu",function() {
	
	console.log("seles11");
    // $tr = $(this).closest("tr").clone();
	// $tr.insertAfter($(this).closest("tr"));

		j++;
		var newElem = $('tr.pricing-submenu').first().clone();
		newElem.find('label.error').remove();
		console.log("-----------");
		console.log(newElem);
		console.log(newElem.find('input').eq(1).attr('id'));
		newElem.find('input').val('');
		newElem.find('input').eq(0).attr('id', 'categoryTitle-' + j) // update title id
		
		//newElem.insertAfter($(this).closest("tr"));
		newElem.appendTo('table#pricing-list-container');

});	


$(document.body).on('click',".removetr",function() {
	$(this).closest("tr").remove();
//$(this).closest("tr").remove();
});



</script> -->


<script>

	
var placeSearch, autocomplete;
var componentForm = {
  street_number: 'short_name',
  route: 'long_name',
  locality: 'long_name',
  administrative_area_level_1: 'short_name',
  country: 'long_name',
  postal_code: 'short_name'
};

function initAutocomplete() {
  // Create the autocomplete object, restricting the search to geographical
  // location types.
  autocomplete = new google.maps.places.Autocomplete(
      /** @type {!HTMLInputElement} */(document.getElementById('autocomplete')),
      {types: ['geocode']});

  // When the user selects an address from the dropdown, populate the address
  // fields in the form.
  autocomplete.addListener('place_changed', fillInAddress);
}

function fillInAddress() {
  // Get the place details from the autocomplete object.
var place = autocomplete.getPlace();

var latitude = place.geometry.location.lat();
var longitude = place.geometry.location.lng(); 
document.getElementById('latitude').value=latitude;
document.getElementById('longitude').value=longitude;

console.log("lat long");
console.log(latitude);
console.log(longitude);

  // Get each component of the address from the place details
  // and fill the corresponding field on the form.
  for (var i = 0; i < place.address_components.length; i++) {
	var addressType = place.address_components[i].types[0];
	var addressValue = place.address_components[i].types[1];

	// console.log(place.address_components[i]);
	
	// console.log("addressType "+addressType);
	// console.log("addressValue "+addressValue);
	// console.log("place.address_components "+place.address_components[i].long_name);
	
	if(document.getElementById(place.address_components[i].types[0])){
	 document.getElementById(place.address_components[i].types[0]).value = place.address_components[i].long_name;

	}
    
  }
}

// Bias the autocomplete object to the user's geographical location,
// as supplied by the browser's 'navigator.geolocation' object.
function geolocate() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function(position) {
      var geolocation = {
        lat: position.coords.latitude,
        lng: position.coords.longitude
      };
      var circle = new google.maps.Circle({
        center: geolocation,
        radius: position.coords.accuracy
      });
      autocomplete.setBounds(circle.getBounds());
    });
  }
}
	</script>